<template>
  <lightning-button label="New" onclick={openForm} class="slds-m-bottom_medium"></lightning-button>
  <template if:true={isFormVisible}>
    <c-product-form onsave={saveForm} onclose={closeForm}></c-product-form>
  </template>
  <table class="slds-table slds-table_cell-buffer slds-table_bordered">
    <thead>
      <tr>
        <th>Image</th>
        <th>Name</th>
        <th>Description</th>
        <th>Price</th>
        <th>Available Units</th>
      </tr>
    </thead>
    <tbody>
      <template for:each={products} for:item="product">
        <tr key={product.Id}>
          <td style="white-space:pre-wrap;">
            <img src={product.ImageURL__c} alt="Product" style="height:50px;" />
          </td>
          <td style="white-space:pre-wrap;">{product.Name}</td>
          <td style="white-space:pre-wrap;">{product.Description__c}</td>
          <td style="white-space:pre-wrap;">
            <lightning-formatted-number
              value={product.UnitPrice__c}
              format-style="currency"
              currency-code="USD">
            </lightning-formatted-number>
          </td>
          <td style="white-space:pre-wrap;">{product.UnitsAvailable__c}</td>
        </tr>
      </template>
    </tbody>
  </table>
</template>